{"version":3,"sources":["dashboard.component.ts"],"names":[],"mappings":"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","file":"dashboard.component.js","sourcesContent":["import { Component } from '@angular/core';\nimport { apiService} from './apiservice.service';\nimport 'rxjs/add/operator/toPromise';\n\n@Component({\n  selector: 'my-app',\n  templateUrl: `../resources/views/todo.blade.php`\n})\nexport class DashboardComponent { \n\t\n\taddTasks: boolean = false;\n    newTodo: string;\n    todos: any;\n    todoObj: any;\n    url: string = \"http://localhost/Project/Blog/public/addTask\";\n\n    constructor(private userService: apiService) {\n      this.newTodo = '';\n      this.todos = [];\n    }\n\n    addTodo(event) {\n      this.todoObj = {\n        newTodo: this.newTodo,\n        completed: false\n      }\n      \n      //console.log(this.newTodo);\n      \tthis.userService.create(this.todoObj,this.url).map(res => res.json()).subscribe((res) => {\n        \tif(res.status == 200){\n        \t\tthis.todoObj.id = res.id;\n                alert('added sucessfully')\n        \t} else {\n        \t\talert('error');\n        \t}\n            \n        });\n\n        this.todos.push(this.todoObj);\n      \tthis.newTodo = '';\n      \tevent.preventDefault();\n    }\n\n    deleteTodo(index) {\n    \tlet data = {id:index};\n    \tthis.userService.post(data,\"http://localhost/Project/Blog/public/deleteTask\").map(res => res.json()).subscribe((res) => {\n        \tif(res.status == 200){\n                alert('deleted sucessfully')\n        \t} else {\n        \t\talert('error');\n        \t}\n            \n        });\n\n      \tthis.todos.splice(index, 1);\n    }\n\n    completed(index,completed) {\n    \tlet data = {id:index,is_completed:completed};\n    \tthis.userService.post(data,\"http://localhost/Project/Blog/public/deleteTask\").map(res => res.json()).subscribe((res) => {\n        \tif(res.status == 200){\n                alert('updated sucessfully')\n        \t} else {\n        \t\talert('error');\n        \t}\n            \n        });\n\n      \tthis.todos.splice(index, 1);\n    }\n\n    deleteSelectedTodos() {\n      //need ES5 to reverse loop in order to splice by index\n      for(var i=(this.todos.length -1); i > -1; i--) {\n        if(this.todos[i].completed) {\n          this.todos.splice(i, 1);\n        }\n      }\n    }\n\n    ngOnInit(){\n     \tthis.userService.get(\"http://localhost/Project/Blog/public/getTask\").map(res => res.json()).subscribe((res) => {\n        \tfor (var i = 0; i < res.tasks.length; i++) {\n        \t\tthis.todoObj = {\n        \t\t\tid: res.tasks[i].id,\n\t\t\t        newTodo: res.tasks[i].task,\n\t\t\t        completed: res.tasks[i].is_completed\n\t\t\t    }\n\n\t\t\t    this.todos.push(this.todoObj);\n        \t}\n        \tconsole.log(this.todos);\n        });\n  \t}\n}\n"],"sourceRoot":"/source/"}